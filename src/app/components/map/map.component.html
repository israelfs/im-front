<div class="relative w-full h-full">
  <div
    class="absolute top-0 left-0 h-full w-[30%] min-w-[366px] flex flex-col items-center justify-center overflow-auto border-r-[1px] bg-gray-500 z-40"
    [ngClass]="{ hidden: !displayFilterDrawer }"
  >
    <mat-label>Selecione o tipo de layer</mat-label>
    <mat-radio-group
      name="layerType"
      [(ngModel)]="selectedLayerType"
      (change)="onManageFilters($event)"
      class="mt-1"
    >
      <mat-radio-button value="heatmap" [disabled]="loading$ | async"
        >Heatmap</mat-radio-button
      >
      <mat-radio-button value="circle" [disabled]="loading$ | async"
        >Circle</mat-radio-button
      >
    </mat-radio-group>

    <mat-label class="mt-4">Selecione o tipo de filtragem</mat-label>
    <mat-radio-group
      name="filterType"
      [(ngModel)]="selectedFilterType"
      (change)="onManageFilters($event)"
      class="mt-1"
    >
      <mat-radio-button value="signal" [disabled]="loading$ | async"
        >Sinal RTC</mat-radio-button
      >
      <mat-radio-button value="delay" [disabled]="loading$ | async"
        >Atraso no envio do sinal</mat-radio-button
      >
    </mat-radio-group>

    <mat-form-field class="w-3/4 mt-4">
      <mat-label>Selecione o tipo de contrato do Chip</mat-label>
      <mat-select
        name="operatorType"
        [(value)]="selectedOpeartorType"
        (selectionChange)="onManageFilters($event)"
        [disabled]="loading$ | async"
        class="mt-1"
      >
        <mat-option value="all">Todas</mat-option>
        <mat-option value="mono">Mono operadora</mat-option>
        <mat-option value="bi">Bi operadora</mat-option>
        <mat-option value="multi">Multi operadora</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div
    class="absolute inset-0 z-30 flex items-center justify-center"
    *ngIf="loading$ | async"
  >
    <mat-spinner class="spinner-color"></mat-spinner>
  </div>

  <button
    class="fixed top-0 left-0 m-3 z-50 text-sm font-bold bg-gray-500 hover:bg-gray-700 text-white py-2 px-2 rounded-full transition-all duration-500 ease-in-out"
    (click)="switchDisplayFilterDrawer()"
    [matTooltip]="displayFilterDrawer ? 'Fechar filtros' : 'Abrir filtros'"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      class="h-8 w-8"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M4 6h16M4 12h16M4 18h16"
      ></path>
    </svg>
  </button>

  <div class="w-full h-full absolute" #map></div>
</div>
